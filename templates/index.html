<!DOCTYPE html>
<html>
<head>
    <title>Spotify Now Playing</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
    <h1>Now Playing</h1>
    <img id="album-art" src="">
    <p>Artist(s): <span id="artist"></span></p>
    <p>Song: <span id="song"></span></p>

    <script>
        $(document).ready(function() {
           function updateSpotifyData() {
               $.getJSON('/spotify-data', function(data) {
                   $('#album-art').attr('src', data.album_art_url);
                   $('#artist').text(data.artist_names);
                   $('#song').text(data.song_name);
               });
           }

           updateSpotifyData(); // Fetch data initially
           setInterval(updateSpotifyData, 5000); // Update every 5 seconds
       });
    </script>
</body>
</html>
